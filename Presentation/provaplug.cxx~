#include "gcc-plugin.h"
#include <iostream>
int plugin_is_GPL_compatible;


void cb_plugin_finish(void *gcc_data, void *user_data){
  cout << "****** EVENT PLUGIN_FINISH *******" << endl;
  // Process data
  cout << " *** END EVENT PLUGIN_FINISH **** " << endl;
}

int plugin_init (plugin_name_args* info, plugin_gcc_version*)
{
  int r (0);
  cout << "Hello World!  ...Starting my plugin! "<< endl;
  cout << "Name: " << info->base_name << endl;

  //
  // Parse options if any.
  //


  // Register callbacks. 
  register_callback(info->base_name,
		    PLUGIN_FINISH,
		    &cb_plugin_finish,
		    0);
  return r;
}
